{% extends 'base.html' %}
{% block title %}Home{% endblock title %}
{% block style %}
<style>
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: #000; 
      /* background-color: #10132F; */
      color: white;
      overflow: hidden; /* Prevents scrollbar from appearing */
    }

    #container {
      width: 100%;
      height: 100%;
      position: fixed; /* Ensures background covers entire viewport */
      top: 0;
      left: 0;
      z-index: -1; /* Puts the 3D effect behind the content */
    }

    .container {
      position: relative;
      z-index: 1; /* Ensures text appears above the background */
      text-align: center;
    }

    .logo {
      margin-bottom: 20px;
    }

    .logo img {
      width: 200px;
    }

    h1 {
      font-size: 48px;
      margin-bottom: 10px;
    }

    p {
      font-size: 16px;
      color: #aaa;
      margin-bottom: 40px;
    }

    .button {
        text-decoration: none;
      padding: 15px 30px;
      background-color: #7F5AF0;
      border: none;
      border-radius: 10px;
      color: white;
      font-size: 18px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .button:hover {
      background-color: #9F7DF0;
    }
</style>
{% endblock style %}

{% block body %}
  <div id="container"></div> <!-- Container for the 3D effect -->
  <div class="container">
    
    <h1>Welcome to DataTalk.ai</h1>
    <p>Empowering data-driven decisions at your fingertips</p>
    <a href="/company" class="button">Continue</a>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/three@0.125.2/build/three.min.js"></script>
  <script>
      let scene, camera, renderer, starField;

      function init() {
          // Scene setup
          scene = new THREE.Scene();

          // Camera setup
          camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
          camera.position.z = 30;

          // Renderer setup
          renderer = new THREE.WebGLRenderer({alpha: true});
          renderer.setSize(window.innerWidth, window.innerHeight);
          document.getElementById('container').appendChild(renderer.domElement);

          // Add stars
          addStars();

          // Start animation loop
          animate();
      }

      function addStars() {
          // Geometry setup
          let starsGeometry = new THREE.BufferGeometry();
          let starVertices = [];
          for (let i = 0; i < 10000; i++) {
              const x = THREE.Math.randFloatSpread(2000);
              const y = THREE.Math.randFloatSpread(2000);
              const z = THREE.Math.randFloatSpread(2000);
              starVertices.push(x, y, z);
          }
          starsGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starVertices, 3));

          // Material setup
          let starsMaterial = new THREE.PointsMaterial({ color: 0x888888, size: 0.5 });

          // Points setup
          starField = new THREE.Points(starsGeometry, starsMaterial);
          scene.add(starField);
      }

      function animate() {
          requestAnimationFrame(animate);

          // Animation update
          starField.rotation.x += 0.001;
          starField.rotation.y += 0.001;

          // Render the scene
          renderer.render(scene, camera);
      }

      function onWindowResize() {
          camera.aspect = window.innerWidth / window.innerHeight;
          camera.updateProjectionMatrix();
          renderer.setSize(window.innerWidth, window.innerHeight);
      }

      window.addEventListener('resize', onWindowResize, false);

      init();
  </script>
{% endblock body %}
